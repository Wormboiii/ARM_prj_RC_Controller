/*
 * fnd.c
 *
 *  Created on: Jun 19, 2025
 *      Author: wonhyeok
 */


#include "fnd.h"

uint8_t Seg_num[] = {														// 숫자 0~9까지를 캐소드 공통(Common Cathode) FND에 나타냈을 때를 16비트로 표시한 배열
        0x3f, 0x06, 0x5b, 0x4f, 0x66, 0x6d, 0x7d, 0x27, 0x7f, 0x67
    };

uint8_t Seg_alph[] = {														// 알파벳 a~z를 캐소드 공통(Common Annode) FND에 나타냈을 때를 16비트로 표시한 배열
    0x5f, 0x7c, 0x39, 0x5e, 0x79, 0x71, 0x3d, 0x76, 0x11, 0x0d, 0x75, 0x38, 0x55, 0x54, 0x5c, 0x73, 0x67, 0x50, 0x2d, 0x78, 0x1c, 0x2a, 0x6a, 0x14, 0x6e, 0x1b
};

extern SPI_HandleTypeDef hspi1;

void SEG_OUT(uint8_t data) {
	uint8_t seg_CA = 0x00;
	seg_CA = ~Seg_num[data];
	HAL_SPI_Transmit(&hspi1, &seg_CA, 1, HAL_MAX_DELAY);
	RCLK_HIGH();
//	HAL_Delay(1);
	RCLK_LOW();
}
